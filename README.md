# Building an Application Using Layouts and Navigation
A typical mobile application often has several pages, and these pages need to be wired together in the right manner using navigation and routing. In this app, you will learn how Flutter uses a stack data structure to enable navigation. New pages that you navigate to are pushed on top of the stack and navigating backward involves popping from the stack.

You will use the Navigator class to navigate to new pages, and see how you can improve the readability and robustness of your navigation code by using named routes. You will pass arguments to pages while navigating to them, and also see how you can use the route generator for navigation. Next, you will bring together everything that you've learned in this path to build a simple application for an e-commerce company, a shopping app.

The app will display products and categories, and allow you to add and remove products from the cart. You will build this app using material designed for Android devices and Cupertino widgets for iOS devices. Finally, you will see how you can connect a real device to Flutter and test your app on a real mobile phone. 

## Configuring App Navigation with the Navigator Class
First setup the images folder then create a new directory in lib called screens and this directory will hold the Dart Files that will contain the different screen widgets. The first screen that I'm going to create here is the home screen that can be stored in the home.dart file. 

That ElevatedButton is a nice three-dimensional button. This has not been wired up to any click handler yet. Now let's go ahead and run this app so that we can take a look at what this home screen looks like. We're just setting up the screen at this point in time.I'm going to create a new file called categories. This categories.dart file will contain two buttons that will allow me to navigate to two separate categories. Now I'm going do reference the MyCategoriesPage here so that we can view that particular page and see what it looks like. I'll also need to change the import statement here in the main file to reference categories.dart instead of home.dart. 

Now I'm going to set up the code of the Categories page, and rather than explaining the code widget by widget, I'll just run this app and show you what this page looks like. All this page displays is a little decorated box with the word Categories, and the message, Here are the categories! and two elevated buttons, one for Snacks and Beverages, and another for Fresh Fruits and Vegetables. Just one thing to note that these buttons have not been wired up yet. So you can click on these buttons at this point in time and they'll do absolutely nothing.

I've basically set the onPressed handler to an empty function. The function doesn't do anything. I'm now going to set up a third Dart File in this screens subfolder. This Dart File is going to contain the code for two widgets representing products, one for Snacks and Beverages, and another for Fruits and Vegetables. In the main.dart file, instead of referencing MyCategoriesPage, I'm going to reference SnacksAndBeveragesProducts. That is one widget that I have in the products.dart.

I need to update the import statement as well. This page only contains a list view of products and the structure of this page should be very familiar to you.  Every product has an image and a title. I set up a list of snacksAndBeverages products. you'll see I have a StatelessWidget for SnacksAndBeveragesProducts. you can see that this widget displays a list view using the ListView.builder constructor. Well, you're very familiar with list views at this point in time. So this needs no explanation. Similarly, I have a list of products, both fruits and vegetables. Once again, this is a ListView, as you can see on line 80. I'm just going to run this code and show you what this page looks like. The first page that we display is Snacks and Beverages. And you can see that this is just a simple list view of the products that we have hardcoded. 
I'm going to run this app. And you can see in the emulator that we now have a list of fresh fruits and vegetables displayed. Now back to the main.dart file, and I'm going to set the home variable to point to my home page. What we'll do now is set up a navigation to the rest of this application starting from the home page. I'll now reload this application so that the page that is displayed is the home page. Let's start by wiring up our navigation.

I want the Shop Now! button to direct me to the categories page. And that's what I'm going to wire up now. Now, if you scroll down a little bit on the homepage, you'll find that the Shop Now! button has an onPressed handler defined and  right now that handler does absolutely nothing. This is what I going to fix. I'm going to allow this button to navigate to the MyCategoriesPage. Navigation in Flutter is handled using the Navigator class.

The Navigator class manages all of the child widgets that you've navigated to using a stack data structure, that is it is a last in, first out data structure. Every screen that you navigate to is pushed on to this stack. And if you want to explicitly navigate to a screen, well, you have to push that screen onto the stack. When you want to navigate back, screens are popped from the stack and then you go back to the previous screens. So the navigator is what manages the stack data structure and the navigator is what I have used here. I reference the Navigator class and invoke the push method. I specify the current context, and I pass in a MaterialPageRoute that points to MyCategoriesPage, whose builder points to MyCategoriesPage. So that is the page that we will navigate to when we click on Shop Now! I, of course, need to add the import statement for the categories.dart file. It'll take me to my MyCategoriesPage. Now the cool thing is when you use the Navigator class to navigate between screens, the back button is automatically set up for you. Observe the back button on the top left corner. I'm now going to click on the back button and that'll take me back to the previous screen. I click on Shop Now! once again, well, that'll take me once again to the categories page.

The back button of your phone is also wired up. If you click on the back button of your phone, well, that'll take you back to the previous page. So now you have two pages wired up. You can click back and forth and see how things work. Next step, let's wire up these two buttons, Snacks and Beverages, and Fresh Fruits and Vegetables. Right now they do absolutely nothing. This involves changes to the categories.dart file. So I'm going to go ahead and open up that file.

Let me show you how to do that. Let's head over to product.dart where I'll update the SnacksAndBeveragesProducts widget to include an icon that'll handle navigating back a screen. I've updated the code. The change is at the very bottom where I've added an icon button. The icon button displays an arrow_back. and it's onPressed handler simply calls Navigator.pop. 
The navigator stack takes care of the rest. Navigator.pop, pass in the context, and you should be able to navigate back using this button. I'll just wait for the app to reload and I'll click on Shop Now!. That'll take me to the Categories page. I'll click on Snacks and Beverages. That'll take me to the list of snacks and beverages. And there you can see the back arrow icon button at the bottom. 